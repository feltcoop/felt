/* TODO some is haphazard & inconsistent */
:root {
	--alpha: 0.89;
	--faded_rg: 62%;
	--faded_md: 38%;
	--faded_sm: 24%;
	--faded_xs: 15%;
	--bg: #fff;
	--blue_hue: 210;
	--blue_saturation: 55%;
	--blue_lightness: 50%;
	--blue_alpha: var(--alpha);
	--blue: hsla(var(--blue_hue), var(--blue_saturation), var(--blue_lightness), var(--blue_alpha));
	--green_hue: 120;
	--green_saturation: 55%;
	--green_lightness: 45%;
	--green_alpha: var(--alpha);
	--green: hsla(
		var(--green_hue),
		var(--green_saturation),
		var(--green_lightness),
		var(--green_alpha)
	);
	--violet_hue: 260;
	--violet_saturation: 50%;
	--violet_lightness: 50%;
	--violet_alpha: var(--alpha);
	--violet: hsla(
		var(--violet_hue),
		var(--violet_saturation),
		var(--violet_lightness),
		var(--violet_alpha)
	);
	--orange_hue: 24; /* TODO this is too "red", but not sure which direction to go */
	--orange_saturation: 55%;
	--orange_lightness: 50%;
	--orange_alpha: var(--alpha);
	--orange: hsla(
		var(--orange_hue),
		var(--orange_saturation),
		var(--orange_lightness),
		var(--orange_alpha)
	);
	--red_hue: 0; /* TODO this is too "red", but not sure which direction to go */
	--red_saturation: 50%;
	--red_lightness: 50%;
	--red_alpha: var(--alpha);
	--red: hsla(var(--red_hue), var(--red_saturation), var(--red_lightness), var(--red_alpha));
	--tint_hue: var(--orange_hue);
	--tint_saturation: 11%;
	--tint_lightness1: 80%;
	--tint_lightness2: 87%;
	--tint_lightness3: 90%;
	--tint_lightness4: 94%;
	--tint_lightness5: 100%;
	--tint_lightness: var(--tint_lightness1);
	--tint_dark_lightness: 45%;
	--tint_alpha: 1;
	--tint: hsla(var(--tint_hue), var(--tint_saturation), var(--tint_lightness), var(--tint_alpha));
	--tint_overlay: hsla(
		var(--tint_hue),
		var(--tint_saturation),
		var(--tint_lightness1),
		var(--faded_rg)
	);
	--tint_highlight: hsla(
		var(--tint_hue),
		var(--tint_saturation),
		var(--tint_lightness3),
		var(--faded_rg)
	);
	--interactive_color: hsla(
		var(--tint_hue),
		var(--tint_saturation),
		var(--tint_lightness2),
		var(--alpha)
	);
	--interactive_hover_color: hsla(
		var(--tint_hue),
		var(--tint_saturation),
		var(--tint_lightness4),
		var(--alpha)
	);
	--interactive_disabled_color: hsla(
		var(--tint_hue),
		var(--tint_saturation),
		var(--tint_lightness4),
		var(--alpha)
	);
	--interactive_active_color: hsla(
		var(--tint_hue),
		var(--tint_saturation),
		var(--tint_lightness5),
		var(--alpha)
	);
	--active_hue: var(--blue_hue);
	--active_saturation: var(--blue_saturation);
	--active_lightness: var(--blue_lightness);
	--active_alpha: var(--alpha); /* TODO maybe add a base alpha/transparency var? */
	/* --active_text_decoration: underline; */
	--active_color: hsla(
		var(--active_hue),
		var(--active_saturation),
		var(--active_lightness),
		var(--active_alpha)
	);
	--active_light_bg_saturation: 70%;
	--active_light_bg_lightness: 80%;
	--active_light_bg_alpha: 0.5;
	--active_light_bg: hsla(
		var(--selected_hue),
		var(--active_light_bg_saturation),
		var(--active_light_bg_lightness),
		var(--active_light_bg_alpha)
	);
	--active2_color: var(--green);
	--help_color: var(--green);
	--error_color: var(--red);
	/* these don't use alpha because it affects performance (unless that changed) */
	--text_color: hsl(0, 10%, 16%);
	--text_light_color: hsl(0, 10%, 38%);
	--text_lighter_color: hsl(0, 10%, 62%);
	--text_disabled_color: var(--text_lighter_color);
	--line_height: 1.2;
	--font_size_xl9: 512px;
	--font_size_xl8: 384px;
	--font_size_xl7: 256px;
	--font_size_xl6: 196px;
	--font_size_xl5: 128px;
	--font_size_xl4: 96px;
	--font_size_xl3: 64px;
	--font_size_xl2: 48px;
	--font_size_xl: 32px;
	--font_size_lg: 24px;
	--font_size_md: 20px;
	--font_size_rg: 16px;
	--font_size_sm: 13px;
	--font_size_xs: 10px;
	--font_weight_5: 900;
	--font_weight_4: 700;
	--font_weight_3: 500;
	--font_weight_2: 300;
	--font_weight_1: 100;
	--font_weight: var(--font_weight_3);
	--link_hue: var(--blue_hue);
	--link_saturation: 61%;
	--link_lightness: 35%;
	--link_color: hsl(var(--link_hue), var(--link_saturation), var(--link_lightness));
	--link_text_decoration: none;
	--link_hover_decoration: underline;
	--link_selected_decoration: underline;
	--link_active_color: var(--text_color);
	--link_cursor: default; /* because we have other visual affordances */
	/* TODO maybe spacing 1-N ? */
	--spacing_xl9: 512px;
	--spacing_xl8: 384px;
	--spacing_xl7: 256px;
	--spacing_xl6: 196px;
	--spacing_xl5: 128px;
	--spacing_xl4: 96px;
	--spacing_xl3: 64px;
	--spacing_xl2: 48px;
	--spacing_xl: 32px;
	--spacing_lg: 20px;
	--spacing_md: 10px;
	--spacing_rg: 8px;
	--spacing_sm: 6px;
	--spacing_xs: 4px;
	--spacing_xs2: 3px;
	--spacing_xs3: 2px;
	--spacing_xs4: 1px;
	--column_width: 600px;
	--nav_height: var(--spacing_xl);
	--avatar_height: var(--spacing_xl2);
	--input_height: var(--spacing_xl2);
	--input_width_max: 400px;
	--input_width_min: 100px;
	--border_color: hsla(
		var(--tint_hue),
		var(--tint_saturation),
		var(--tint_dark_lightness),
		var(--faded_md)
	);
	--border_light_color: rgba(0, 0, 0, var(--faded_sm));
	--border_lighter_color: rgba(0, 0, 0, var(--faded_xs));
	--border_width_xxxl: 14px;
	--border_width_xxl: var(--spacing_md);
	--border_width_xl: var(--spacing_rg);
	--border_width_lg: var(--spacing_sm);
	--border_width_md: var(--spacing_xs);
	--border_width_rg: var(--spacing_xs3);
	--border_width_sm: var(--spacing_xs4);
	--border2_width: var(--spacing_xs);
	--border_style: solid;
	--border2_style: double;
	--border3_style: dotted;
	--border4_style: dashed;
	--border: var(--border_width_rg) var(--border_style) var(--tint);
	--outline_width: 0;
	--outline2_width: var(--spacing_rg);
	--outline3_width: var(--spacing_md);
	--outline_style: var(--border2_style);
	--outline2_style: var(--border3_style);
	--outline_color: var(--interactive_hover_color);
	--button_border_width: var(--border_width_lg);
	--button_border_style: double;
	--button_border_selected_style: solid;
	--button_border_disabled_style: dashed;
	--button_font_weight: var(--font_weight_4);
	--button_text_color: var(--text_light_color);
	--input_border_width: var(--button_border_width);
	--input_border_style: solid;
	--border_alert: var(--border2_width) var(--border2_style)
		hsla(var(--red_hue), 100%, 50%, var(--faded_md));
	--border_help: var(--border2_width) var(--border2_style)
		hsla(var(--green_hue), 100%, 25%, var(--faded_md));
	/* --border: var(--border2_width) var(--border2_style) hsla(0, 0%, 80%, var(--faded_md)); */
	--button_border_color: var(--border_color);
	--input_border_color: var(--border_color);

	/* TODO move these? */
	box-sizing: border-box;
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell,
		'Open Sans', 'Helvetica Neue', sans-serif;
	font-size: var(--font_size_rg);
}

html,
body {
	height: 100%;
	background-color: var(--bg);
}

*,
*::before,
*::after {
	box-sizing: inherit;
	margin: 0;
	padding: 0;
	line-height: var(--line_height);
}

::selection {
	background: var(--active_light_bg);
}

#svelte {
	height: 100%;
	display: flex;
	flex-direction: column;
}

a {
	color: var(--link_color);
	--font_weight: var(--font_weight_4);
	font-weight: var(--font_weight);
	text-decoration: var(--link_text_decoration);
	/* TODO not sure about this pattern, experimenting */
	--outline_style: var(--outline2_style);
	outline: var(--outline_width) var(--outline_style) var(--outline_color);
}
a:hover {
	text-decoration: var(--link_hover_decoration);
	z-index: 3;
	--outline_width: var(--outline2_width);
	--outline_color: var(--interactive_hover_color);
	cursor: var(--link_cursor);
}
a:focus {
	z-index: 2;
	--outline_width: var(--outline2_width);
	--outline_color: var(--active_color);
	text-decoration: var(--link_hover_decoration);
}
a:active {
	--outline_width: var(--outline3_width);
	--outline_color: var(--active2_color);
}
a.selected {
	color: var(--link_active_color);
	--outline_color: var(--border_color);
	text-decoration: var(--link_selected_decoration);
}
a.selected:focus {
	--outline_color: var(--active_color);
}
a.selected:active {
	--outline_color: var(--border_color);
}

ul {
	display: flex;
	flex-direction: column;
	list-style: none;
}
li {
	display: flex;
}

h1,
h2,
h3 {
	--font_weight: var(--font_weight_2);
	font-weight: var(--font_weight);
}
h1 a,
h2 a,
h3 a {
	--font_weight: var(--font_weight_3);
}

form {
	display: flex;
	flex-direction: column;
	align-items: center;
}

button {
	position: relative;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: var(--font_size_md);
	font-weight: var(--button_font_weight);
	min-height: var(--input_height);
	padding: var(--spacing_sm) var(--spacing_md);
	background: var(--interactive_color);
	border-width: var(--button_border_width);
	border-color: var(--button_border_color);
	border-style: var(--button_border_style);
	color: var(--button_text_color);
	outline: var(--outline_width) var(--outline_style) var(--outline_color);
}
button::before {
	content: '';
	height: 100%;
	width: 100%;
	position: absolute;
	left: 0;
	top: 0;
	border-width: var(--border_width_rg) 0;
	border-style: var(--border_style);
	border-color: var(--border_color);
	outline-width: var(--border_width_sm);
	outline-style: var(--border4_style);
	outline-color: var(--outline_color);
}
button:disabled::before {
	outline-width: 0;
}
button.selected::before {
	--outline_width: var(--border_width_sm);
	--border_color: var(--active_color);
}
button:hover {
	background: var(--interactive_hover_color);
}
button:active {
	background: var(--interactive_active_color);
}
button.inline {
	display: inline-block;
}
button:disabled.selected {
	z-index: 1;
	border-left-style: var(--button_border_selected_style);
	border-right-style: var(--button_border_selected_style);
	color: var(--active_color);
	/* TODO experimental, not sure about these patterns */
	--button_border_color: var(--active_color);
	--border_color: var(--active_color);
	--outline_width: var(--outline2_width);
	--outline_style: var(--border2_style);
	--outline_color: var(--interactive_hover_color);
}
button.selected:active {
	--outline_width: var(--outline3_width);
}
/* TODO simplify this selector? */
button:disabled:not(.selected):active {
	/* TODO hmm maybe delete `button_border_color`? */
	--border_color: var(--error_color);
	--button_border_color: var(--error_color);
}

input,
textarea {
	-webkit-appearance: none;
	appearance: none;
	font-size: var(--font_size_md);
	padding: var(--input_padding_v, var(--spacing_sm)) var(--input_padding_h, var(--spacing_md));
	border-color: var(--input_border_color);
	border-style: var(--input_border_style);
	border-width: var(--input_border_width);
	width: 100%;
	max-width: var(--input_width_max);
	min-width: var(--input_width_min);
	min-height: var(--input_height);
	--outline_width: var(--border_width_sm);
	--outline_style: var(--border4_style);
	outline: var(--outline_width) var(--outline_style) var(--outline_color);
}

input[type='checkbox'] {
	position: relative;
	width: var(--input_height);
	height: var(--input_height);
	max-width: var(--input_height);
	min-width: var(--input_height);
	--input_padding_v: 0;
	--input_padding_h: 0;
	/* setting `outine_style` here instead would force us to override active/focus states */
	outline-style: var(--border3_style);
}
input[type='checkbox']::before {
	content: var(--content_empty, '');
	position: absolute;
	left: 0;
	top: 0;
	width: 100%;
	height: 100%;
	text-align: center;
	display: flex;
	align-items: center;
	justify-content: center;
	overflow: var(--overflow, visible);
	font-size: var(--font_size, var(--font_size_xl4));
	color: var(--active_color);
	line-height: 1;
}
input[type='checkbox']:checked::before {
	content: var(--content, '•');
}

hr {
	border: var(--border_width_md) var(--border2_style) var(--border_light_color);
}

.buttonlike {
	outline-width: var(--outline_width);
	outline-style: var(--outline_style);
	outline-color: var(--outline_color);
}

.buttonlike:hover,
input:hover,
textarea:hover,
button:hover {
	z-index: 3;
	--outline_style: var(--border2_style);
	--outline_width: var(--outline2_width);
}

.buttonlike:focus,
.buttonlike:focus-within,
input:focus,
textarea:focus,
button:focus {
	z-index: 2;
	--input_border_color: var(--active_color);
	--outline_color: var(--active_color);
	--outline_style: var(--border2_style);
	--outline_width: var(--outline2_width);
}
.buttonlike:focus-within {
	--input_border_color: var(--border_color);
}
.buttonlike.selected {
	--input_border_color: var(--active_color);
}

.buttonlike:active,
.buttonlike:active input,
.buttonlike:active textarea,
.buttonlike:active button,
input:active,
textarea:active,
button:active {
	z-index: 3;
	/* TODO do we want these two vars at all? or should we use selectors+vars? */
	--input_border_color: var(--active_color);
	--button_border_color: var(--active_color);
	--outline_color: var(--active_color);
	/* TODO ? */
	/* --outline_width: var(--outline2_width); */
	--outline_width: var(--outline3_width);
}
.buttonlike:active input,
input:active {
	/* TODO ? */
	--outline_color: var(--active_color);
}

input[type='checkbox']:focus {
	--input_border_color: var(--border_color);
}
input[type='checkbox']:checked {
	--input_border_color: var(--active_color);
}
.buttonlike:active input[type='checkbox'],
input:active {
	--input_border_color: var(--active2_color);
}

button:disabled,
input:disabled,
textarea:disabled {
	--outline_width: 0;
	--input_border_color: var(--border_color);
	opacity: 1; /* for some browsers */
	background: var(--interactive_disabled_color);
	color: var(--text_disabled_color);
	border-left-style: var(--button_border_disabled_style);
	border-right-style: var(--button_border_disabled_style);
}
input:disabled:active,
textarea:disabled:active {
	--border_color: var(--error_color);
}

label {
	display: flex;
	align-items: center;
	justify-content: center;
	padding: var(--spacing_sm) var(--spacing_md);
}

nav {
	min-height: var(--nav_height);
	width: 100%;
	display: flex;
	justify-content: center;
	align-items: stretch;
	flex-wrap: wrap;
}
nav button {
	flex: 1;
}

.column {
	max-width: var(--column_width);
}

blockquote {
	padding: var(--spacing_lg);
	border-left: var(--spacing_sm) solid var(--tint);
	color: var(--text_light_color);
}

code,
pre {
	color: var(--text_light_color);
}

small {
	font-size: var(--font_size_sm);
}
